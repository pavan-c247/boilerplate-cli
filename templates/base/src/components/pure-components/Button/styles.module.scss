@use "sass:map";
@use "./global.scss" as *;
@use "@/assets/scss/variables" as *;

.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  font-size: map.get($font-sizes, md);
  font-weight: map.get($font-weights, medium);
  line-height: 1.5;
  cursor: pointer;
  user-select: none;
  border-radius: map.get($border-radii, md);
  transition: all 0.15s ease-in-out;
  gap: map.get($spacers, 1);

  &:disabled {
    opacity: 0.65;
    pointer-events: none;
  }

  &:focus {
    outline: 0;
    box-shadow: 0 0 0 0.25rem
      color-mix(in srgb, var(--bs-primary) 35%, transparent);
  }
}

.primary,
.secondary,
.success,
.danger,
.warning,
.info,
.light,
.dark {
  border: 1px solid currentColor;
}

/* Color mapping */
.primary {
  background: var(--bs-primary);
  color: #fff;
}
.secondary {
  background: var(--bs-secondary);
  color: #fff;
}
.success {
  background: var(--bs-success);
  color: #fff;
}
.danger {
  background: var(--bs-danger);
  color: #fff;
}
.info {
  background: var(--bs-info);
  color: #fff;
}
.warning {
  background: var(--bs-warning);
  color: #000;
}
.light {
  background: var(--bs-light);
  color: var(--bs-body-color);
}
.dark {
  background: var(--bs-dark);
  color: #fff;
}

/* Hover + Active (auto theme-safe) */
.primary:hover,
.secondary:hover,
.success:hover,
.danger:hover,
.info:hover,
.warning:hover,
.light:hover,
.dark:hover {
  background-color: color-mix(in srgb, currentColor 90%, #000);
}

.primary:active,
.secondary:active,
.success:active,
.danger:active,
.info:active,
.warning:active,
.light:active,
.dark:active {
  background-color: color-mix(in srgb, currentColor 80%, #000);
}

.outlinePrimary,
.outlineSecondary,
.outlineSuccess,
.outlineDanger,
.outlineWarning,
.outlineInfo,
.outlineLight,
.outlineDark {
  background: transparent;
  border: 1px solid currentColor;
}

.outlinePrimary {
  color: var(--bs-primary);
}
.outlineSecondary {
  color: var(--bs-secondary);
}
.outlineSuccess {
  color: var(--bs-success);
}
.outlineDanger {
  color: var(--bs-danger);
}
.outlineWarning {
  color: var(--bs-warning);
}
.outlineInfo {
  color: var(--bs-info);
}
.outlineLight {
  color: var(--bs-body-color);
}
.outlineDark {
  color: var(--bs-dark);
}

.outlinePrimary:hover,
.outlineSecondary:hover,
.outlineSuccess:hover,
.outlineDanger:hover,
.outlineWarning:hover,
.outlineInfo:hover,
.outlineLight:hover,
.outlineDark:hover {
  background-color: currentColor;
  color: #fff;
}

.link {
  background: none;
  border: none;
  padding: 0;
  color: var(--bs-primary);
  text-decoration: underline;

  &:focus {
    box-shadow: none;
  }
}

.sm {
  padding: 0.25rem 0.5rem;
  font-size: map.get($font-sizes, sm);
}

.lg {
  padding: 0.75rem 1.5rem;
  font-size: map.get($font-sizes, lg);
}

.block {
  width: 100%;
}

.iconOnly {
  padding: 0.5rem;
  border-radius: 50%;
  aspect-ratio: 1;
}

.loading {
  position: relative;
  color: transparent !important;
  pointer-events: none;

  &::after {
    content: "";
    position: absolute;
    width: 1rem;
    height: 1rem;
    inset: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid var(--bs-body-color);
    border-right-color: transparent;
    border-radius: 50%;
    animation: button-spin 0.75s linear infinite;
  }
}

@keyframes button-spin {
  to {
    transform: rotate(360deg);
  }
}

.typeIcon {
  width: 2.5rem;
  height: 2.5rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;

  &.sizeLarge {
    width: 3rem;
    height: 3rem;
  }
}

.typeIconBordered {
  @extend .typeIcon;
  border: 1px solid var(--bs-border-color);
  background-color: var(--bs-body-bg);

  &:hover {
    background-color: color-mix(in srgb, var(--bs-body-color) 8%, transparent);
  }
}

.typeInlineIcon {
  background: none;
  border: none;
  padding: 0;
  color: var(--bs-body-color);

  &:hover {
    color: var(--bs-primary);
  }
}

.sizeIconDefault {
  width: 1rem;
  height: 1rem;
}

.sizeIconLarge {
  width: 1.5rem;
  height: 1.5rem;
}

.hideIconOnLoading {
  opacity: 0;
}

.buttonWithIcon {
  display: inline-flex;
  align-items: center;
  gap: map.get($spacers, 1);
}
